class Stogage{constructor(name){this.name=name,this.hash={};let text=localStorage.getItem(this.name);text&&(this.hash=JSON.parse(text)),this.save()}get(id){return this.item.find(item=>item.id===id)}add(id,data){this.hash[id]=data,this.save()}del(id){delete this.hash[id],this.save()}save(){this.list=Object.values(this.hash);const text=JSON.stringify(this.hash);localStorage.setItem(this.name,text)}}const inputBox=document.querySelectorAll('input[class="form-group-input"]'),buttonVis=document.querySelectorAll('a[class="form-pass-input-check"]'),formBtn=document.getElementById("form-switch"),checkbox_store=new Stogage("checkbox_store"),themeSwitch=document.getElementById("theme-switch"),themeAttr=document.querySelector("body"),selectEl=document.getElementById("select"),selectBTN=document.getElementById("select-button"),selectHd=document.getElementById("select-header"),selectItems=document.querySelectorAll(".select-body-element"),selectHeader=document.querySelector(".select-header-element"),selectBody=document.getElementById("select-body");inputBox.forEach((function(elem){let scopeID=elem.getAttribute("data-counter"),scopeBox=document.getElementById(scopeID);function onChangeScope(count){scopeBox.textContent=count.target.value.length}elem.addEventListener("input",onChangeScope)})),buttonVis.forEach((function(btn){function onPasswordCheck(){btn.classList.toggle("form-button-active");let inpID=btn.getAttribute("data-visibility");const inp=document.getElementById(inpID);"password"===inp.getAttribute("type")?inp.setAttribute("type","text"):inp.setAttribute("type","password")}btn.addEventListener("click",onPasswordCheck)})),formBtn.addEventListener("click",(function(){const elem=document.getElementById("forms");elem.classList.toggle("uns")})),selectHd.addEventListener("click",(function(){selectBTN.classList.toggle("active"),selectBody.classList.toggle("uns")})),selectItems.forEach((function(items){items.addEventListener("click",(function(){selectHeader.textContent=items.textContent,selectBody.classList.toggle("uns"),""===items.getAttribute("data-value")?console.log("Сброс выбора"):console.log(items.getAttribute("data-value"))}))})),themeSwitch.addEventListener("click",(function(){"dark"===themeAttr.getAttribute("theme")?themeAttr.setAttribute("theme","light"):themeAttr.setAttribute("theme","dark")}));const cb=document.getElementById("check-1");function changeHandler(event){let id=event.currentTarget.id,state=event.currentTarget.checked?"on":void 0;checkbox_store.add(id,{id:id,state:state})}cb.addEventListener("change",(function(){"dark"===localStorage.getItem("theme")?(themeAttr.setAttribute("theme","light"),localStorage.setItem("theme","light")):(themeAttr.setAttribute("theme","dark"),localStorage.setItem("theme","light"))})),checkbox_store.list.forEach(item=>{if("on"===item.state)return document.querySelector("#"+item.id).checked=item.state;checkbox_store.del(item.id)}),document.querySelectorAll(".check").forEach((function(item){item.addEventListener("change",changeHandler)}));